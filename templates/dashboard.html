{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<h2>Dashboard</h2>
<p>Welcome {{ user.username }} ({{ user.role }})</p>

{% if reports.items %}
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>ID</th><th>Date</th><th>Period</th><th>Submitted</th>
      </tr>
    </thead>
    <tbody>
      {% for report in reports.items %}
        <tr>
          <td>{{ report.id }}</td>
          <td>{{ report.report_date }}</td>
          <td>{{ report.report_period }}</td>
          <td>{{ report.submitted_at.strftime('%Y-%m-%d %H:%M') }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  {% if reports.has_prev %}
    <a href="{{ url_for('dashboard', page=reports.prev_num) }}">Previous</a>
  {% endif %}
  {% if reports.has_next %}
    <a href="{{ url_for('dashboard', page=reports.next_num) }}">Next</a>
  {% endif %}
{% else %}
  <p>No reports submitted yet.</p>
{% endif %}
{% endblock %}
